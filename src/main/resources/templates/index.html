<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Inicial</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg bg-body-tertiary" data-bs-theme="dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Mis Tareas Pendientes</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/tarea/tareas">Mis Tareas</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/tarea/crear">Crear Tareas</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Sección para la gráfica -->
<div class="container mt-4">
    <h1>Gráfica de Tareas</h1>

    <!-- Canvas donde se renderiza la gráfica -->
    <canvas id="tareasChart" width="400" height="200"></canvas>
    <script>
        // Asegúrate de que Thymeleaf pase correctamente los valores de las tareas
        var tareasPendientes = /*[[${tareasPendientes}]]*/ 0;
        var tareasCompletadas = /*[[${tareasCompletadas}]]*/ 0;

        // Configuración de la gráfica
        var ctx = document.getElementById('tareasChart').getContext('2d');
        var tareasChart = new Chart(ctx, {
            type: 'bar',  // Gráfico de barras
            data: {
                labels: ['Tareas Pendientes', 'Tareas Completadas'],
                datasets: [{
                    label: 'Número de Tareas',
                    data: [tareasPendientes, tareasCompletadas],  // Los valores de las tareas
                    backgroundColor: ['#FF0000', '##240b36'],  // Colores para las barras
                    borderColor: ['#FF0000', '#00FF00'],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</div>
</body>
</html>
